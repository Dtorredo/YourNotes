<!DOCTYPE html>
<html lang="en">
<head>
    <title>YourNote</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="theme-color" content="#EFEFEF">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans+Mono" rel="stylesheet">
    <!-- Firebase v3 (Legacy) - Keeping script tag as moving to module is a breaking change for logic -->
    <script src="https://www.gstatic.com/firebasejs/3.6.4/firebase.js"></script>
</head>
<body>
    <toggle>â˜°â˜°</toggle>
    <sidebar>
        <list></list>
        <night>ğŸŒš</night>
        <reload style="opacity: 0" onclick="location.reload(true)">ğŸ’€</reload>
        <button id="new-collab-btn" onclick="window.createNewCollaborativeNote()">â• New Collaborative Note</button>
        <div id="user-profile-floating">
            <img id="user-profile-pic" src="" alt="Profile">
            <div id="user-name">Not signed in</div>
            <button id="user-logout-btn" onclick="window.logoutUser()">ğŸ” Login</button>
        </div>
    </sidebar>
    <textarea autofocus placeholder="start typing"></textarea>

    <!-- Collaboration UI -->
    <div id="collaborators-container">
        <div id="collaborators-list"></div>
        <button id="share-btn" onclick="window.shareCurrentNote()" style="display: none;">ğŸ”— Share</button>
        <button id="ai-edit-toggle" title="AI Edit">âœ¨</button>
    </div>

    <!-- AI Selection Toolbar -->
    <div id="ai-selection-toolbar" class="hidden">
        <input type="text" id="ai-selection-prompt" placeholder="Describe how to transform the selection">
        <button onclick="window.applyAiEdit()">âœ¨ Apply AI Edit</button>
        <button onclick="window.hideAiToolbar()">âœ–</button>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>
